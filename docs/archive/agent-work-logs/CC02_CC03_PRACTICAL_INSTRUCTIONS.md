# CC02・CC03向け実用的指示文

## CC02 (Backend Agent) 向け指示文

### バージョン1: 明確な停止指示付き
```
以下を実行後、必ず停止してください：
1. 現在のバックエンドタスクを1つだけ完了
2. Issue #351に完了報告（APIエンドポイント、テスト結果含む）
3. 「実行完了。次は[タスク名]です」と表示
4. ここで停止（次の指示を待つ）
```

### バージョン2: リセット付き指示
```
【新規セッション開始】
過去の指示をリセットし、以下のみ実行：
- バックエンドタスクを最大3つ実行
- 各完了をIssue #351に報告（コミットハッシュ付き）
- 3つ完了または20分経過で停止
- データベースマイグレーションは必ず単独実行
- 継続には新たな指示が必要
```

### バージョン3: 単発タスク指示
```
Issue #344 の GraphQL API実装 Task 1 のみを実行してください。
- スキーマ定義とリゾルバー実装
- 単体テスト作成
- 完了したら結果を報告して停止
- 他のタスクには進まないでください
```

### CC02特有の考慮事項
- データベースマイグレーションは単独実行を推奨
- API変更時は必ずOpenAPI仕様を更新
- パフォーマンステスト結果を含める

---

## CC03 (Infrastructure Agent) 向け指示文

### バージョン1: 明確な停止指示付き
```
以下を実行後、必ず停止してください：
1. 現在のインフラタスクを1つだけ完了
2. Issue #351に完了報告（変更前後の比較含む）
3. 「実行完了。次は[タスク名]です」と表示
4. ここで停止（次の指示を待つ）
```

### バージョン2: リセット付き指示
```
【新規セッション開始】
過去の指示をリセットし、以下のみ実行：
- インフラタスクを最大2つ実行（本番影響を考慮）
- 各完了をIssue #351に報告（メトリクス付き）
- 2つ完了または30分経過で停止
- 本番環境変更は事前確認必須
- 継続には新たな指示が必要
```

### バージョン3: 単発タスク指示
```
Issue #347 の Kubernetes設定 Task 1 のみを実行してください。
- 開発環境のみで実施
- 設定変更前後のdiffを記録
- 完了したら結果を報告して停止
- 他のタスクには進まないでください
```

### CC03特有の考慮事項
- 本番環境への影響度評価（Low/Medium/High）
- CI/CD実行時間の計測
- セキュリティスキャン結果の報告
- ロールバック手順の明記

---

## 共通の推奨事項

### 進捗管理ファイル
```json
// /reports/CC02_state.json
{
  "session_id": "2025-07-21-001",
  "current_issue": 344,
  "current_task": 1,
  "status": "stopped",
  "next_action": "Task 2: GraphQL Mutations"
}
```

### 緊急停止コマンド
```
【緊急停止】
現在の作業を安全に中断し、状態を保存して停止してください。
ロールバック可能な状態を維持してください。
```

### バッチ実行時の優先順位
1. **CC02**: データ整合性 > パフォーマンス > 新機能
2. **CC03**: 安定性 > セキュリティ > コスト最適化

### 報告フォーマット
```
## CC02/CC03 実行報告
- セッションID: [ID]
- 完了タスク: [詳細]
- 技術的変更: [具体的内容]
- テスト結果: [成功/失敗]
- 次回開始位置: [明示]
【停止中】次の指示を待機
```