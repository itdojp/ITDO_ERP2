# 現実的なエージェント指示文（制限事項を考慮）

## CC01から判明した重要な制限事項

### エージェントの実際の動作制限
- ❌ **バックグラウンド実行不可**
- ❌ **自動的な継続実行不可**
- ❌ **タイマーやスケジューラー機能なし**
- ✅ **単発メッセージ内でのみ実行可能**

### 誤解していた点
- 「無限ループ」は実装不可能
- 「自動繰り返し」は幻想
- 各実行後は必ず停止する

## 実現可能な継続実行方法

### 方法1: 明示的な継続指示（推奨）

```
【人間からエージェントへの指示文】

以下の手順でタスクを実行してください：

1. 現在の進捗状況を確認
   - /reports/CC01_progress.json を読み込み
   - 最後に完了したタスク番号を確認

2. 次のタスクを1つ実行
   - Issue #351 に開始報告を投稿
   - タスクを実行（テスト含む）
   - 完了をIssue #351 に報告

3. 進捗を保存
   - /reports/CC01_progress.json を更新
   - 次のタスク番号を記録

4. 次回の準備情報を表示
   - 「次回は Task #X から開始します」
   - 「続行するには『続きを実行』と指示してください」

実行後は停止します。継続には再度指示が必要です。
```

### 方法2: バッチ実行（複数タスクを一度に）

```
【人間からエージェントへの指示文】

可能な限り多くのタスクを一度に実行してください：

1. 進捗確認（前回の続きから）
2. 最大5つのタスクを順次実行
   - 各タスク開始/完了をIssue #351に報告
   - エラーが発生したら停止
3. 実行サマリーを作成
4. 進捗を保存

制限時間: 10分以内で可能な限り実行
```

### 方法3: 状態管理ファイルを使った擬似継続

```
【進捗管理ファイル例】
/reports/agent_state.json
{
  "current_issue": 331,
  "current_task": 5,
  "completed_tasks": [1,2,3,4],
  "blocked_tasks": [],
  "last_execution": "2025-07-21 09:00:00",
  "next_action": "Continue with task 6"
}
```

## 推奨される実用的な運用方法

### 1. 定期的な手動実行
```
# 人間が定期的に（例：1時間ごと）以下を実行
"前回の続きから5タスク実行してください"
```

### 2. 明確な完了条件
```
"Issue #331 のすべてのタスクを完了するまで、
可能な限り進めてください（最大10タスク）"
```

### 3. チェックポイント方式
```
"チェックポイントまで実行：
- Phase 1 完了まで
- または30分経過まで
- またはブロッカー発生まで"
```

## GitHub Issue #351 での現実的な報告形式

```
## 実行セッション #1 - 2025-07-21 09:00
- 開始タスク: Issue #331 Task 5
- 完了タスク: Task 5, 6, 7
- 所要時間: 8分
- 次回開始: Task 8から

【継続指示待ち】
```

## エージェントへの簡潔な指示例

### 最も実用的な指示文
```
前回の続きから最大5タスクを実行し、
進捗をIssue #351に報告してください。
完了後は停止し、次回の開始位置を明示してください。
```

### 緊急時の指示文
```
Issue #XXX の重要なタスクのみを優先実行してください。
1タスク完了したら停止して結果を報告してください。
```

## 人間側の運用ガイドライン

1. **定期実行**: 30分〜1時間ごとに継続指示
2. **進捗確認**: Issue #351 で各エージェントの状態把握
3. **優先度調整**: 必要に応じて特定タスクを指示
4. **並列実行**: CC01, CC02, CC03 に同時に指示可能

## まとめ

- エージェントは「自動継続」できない
- 人間の定期的な指示が必須
- 1回の実行で複数タスクをバッチ処理が現実的
- 状態管理により擬似的な継続性を実現
- Issue #351 での集中管理は有効