# PMè‡ªå‹•åŒ–ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³è¨­å®š
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®åˆ¤æ–­åŸºæº–ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©

rules:
  # ã‚¿ã‚¹ã‚¯å‰²å½“ãƒ«ãƒ¼ãƒ«
  task_assignment:
    - name: "è² è·åˆ†æ•£"
      condition: "agent.open_tasks < 3"
      action: "assign_new_task"
      
    - name: "å°‚é–€æ€§è€ƒæ…®"
      conditions:
        - task_type: "backend"
          preferred_agents: ["CC01", "CC02"]
        - task_type: "frontend"
          preferred_agents: ["CC02", "CC03"]
        - task_type: "testing"
          preferred_agents: ["CC03"]
          
  # é€²æ—ç›£è¦–ãƒ«ãƒ¼ãƒ«
  progress_monitoring:
    - name: "åœæ»æ¤œå‡º"
      condition: "hours_since_update > 12"
      actions:
        - "send_reminder"
        - "check_blockers"
        
    - name: "CIå¤±æ•—å¯¾å¿œ"
      condition: "ci_status == 'FAILURE'"
      actions:
        - "analyze_error"
        - "provide_solution"
        - "assign_helper" # å¿…è¦ã«å¿œã˜ã¦ä»–ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’æ”¯æ´ã«
        
  # ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
  escalation:
    - name: "é•·æœŸåœæ»"
      condition: "hours_since_update > 24"
      actions:
        - "reassign_task"
        - "create_urgent_issue"
        
    - name: "ç¹°ã‚Šè¿”ã—å¤±æ•—"
      condition: "failure_count > 3"
      actions:
        - "pair_programming" # 2äººã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§å¯¾å¿œ
        - "request_human_help"
        
  # å®Œäº†åˆ¤å®šãƒ«ãƒ¼ãƒ«
  completion:
    - name: "ã‚¿ã‚¹ã‚¯å®Œäº†"
      conditions:
        - "pr_merged == true"
        - "tests_passing == true"
        - "review_approved == true"
      actions:
        - "close_issue"
        - "update_progress"
        - "assign_next_task"
        
  # å„ªå…ˆåº¦ç®¡ç†ãƒ«ãƒ¼ãƒ«
  priority_management:
    - name: "ç· åˆ‡æ¥è¿‘"
      condition: "days_until_deadline < 2"
      actions:
        - "increase_priority"
        - "focus_resources" # ä»–ã®ã‚¿ã‚¹ã‚¯ã‚’ä¸€æ™‚åœæ­¢
        
    - name: "ãƒ–ãƒ­ãƒƒã‚«ãƒ¼å¯¾å¿œ"
      condition: "is_blocking_others == true"
      actions:
        - "set_priority: highest"
        - "assign_multiple_agents"

# ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©
actions:
  send_reminder:
    type: "github_comment"
    template: "reminder_template.md"
    
  provide_solution:
    type: "analyze_and_suggest"
    methods:
      - "search_similar_issues"
      - "check_documentation"
      - "generate_fix_suggestion"
      
  assign_helper:
    type: "find_available_agent"
    criteria:
      - "lowest_workload"
      - "relevant_expertise"
      
  pair_programming:
    type: "collaborative_task"
    setup:
      - "create_shared_branch"
      - "setup_live_share"
      - "coordinate_schedule"

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
templates:
  daily_report:
    title: "ğŸ“Š æ—¥æ¬¡é€²æ—ãƒ¬ãƒãƒ¼ãƒˆ - {date}"
    sections:
      - "completed_tasks"
      - "in_progress"
      - "blockers"
      - "next_actions"
      
  weekly_summary:
    title: "ğŸ“ˆ é€±æ¬¡ã‚µãƒãƒªãƒ¼ - Week {week_number}"
    metrics:
      - "tasks_completed"
      - "average_completion_time"
      - "blocker_resolution_time"
      - "agent_utilization"